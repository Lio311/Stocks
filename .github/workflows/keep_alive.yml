name: Keep Streamlit Apps Alive

on:
  schedule:
    # הרצה כל 45 דקות
    - cron: '*/45 * * * *'
  workflow_dispatch:
    # מאפשר הרצה ידנית לצרכי בדיקה

jobs:
  wake-apps:
    runs-on: ubuntu-latest
    steps:
      - name: Send HTTP Request to Apps
        run: |
          echo "Pinging 8 apps to keep them alive..."
          
          curl -s --head --fail "https://liostocks.streamlit.app"
          curl -s --head --fail "https://fourieropticssimulator.streamlit.app"
          curl -s --head --fail "https://rppgvitalsanalyzer.streamlit.app"
          curl -s --head --fail "https://gaitanalysis3.streamlit.app"
          curl -s --head --fail "https://ecgarrhythmiasimulator.streamlit.app"
          curl -s --head --fail "https://ringsimulator.streamlit.app"
          curl -s --head --fail "https://physiosimulator.streamlit.app"
          curl -s --head --fail "https://smartriagegantt.streamlit.app"
          
          echo "Ping complete. Apps should be awake."
